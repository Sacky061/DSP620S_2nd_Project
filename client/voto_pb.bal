import ballerina/grpc;

public type VoToBlockingClient client object {

    *grpc:AbstractClientEndpoint;

    private grpc:Client grpcClient;

    public function __init(string url, grpc:ClientConfiguration? config = ()) {
        // initialize client endpoint.
        self.grpcClient = new(url, config);
        checkpanic self.grpcClient.initStub(self, "blocking", ROOT_DESCRIPTOR, getDescriptorMap());
    }

    public remote function ballotDescription(ballotInfo req, grpc:Headers? headers = ()) returns ([string, grpc:Headers]|grpc:Error) {
        
        var payload = check self.grpcClient->blockingExecute("src.VoTo/ballotDescription", req, headers);
        grpc:Headers resHeaders = new;
        anydata result = ();
        [result, resHeaders] = payload;
        return [result.toString(), resHeaders];
    }

    public remote function voterProfile(voterInfo req, grpc:Headers? headers = ()) returns ([string, grpc:Headers]|grpc:Error) {
        
        var payload = check self.grpcClient->blockingExecute("src.VoTo/voterProfile", req, headers);
        grpc:Headers resHeaders = new;
        anydata result = ();
        [result, resHeaders] = payload;
        return [result.toString(), resHeaders];
    }

    public remote function votingPeriod(votingInfo req, grpc:Headers? headers = ()) returns ([string, grpc:Headers]|grpc:Error) {
        
        var payload = check self.grpcClient->blockingExecute("src.VoTo/votingPeriod", req, headers);
        grpc:Headers resHeaders = new;
        anydata result = ();
        [result, resHeaders] = payload;
        return [result.toString(), resHeaders];
    }

    public remote function votingOutcomeDeadline(outcomeInfo req, grpc:Headers? headers = ()) returns ([string, grpc:Headers]|grpc:Error) {
        
        var payload = check self.grpcClient->blockingExecute("src.VoTo/votingOutcomeDeadline", req, headers);
        grpc:Headers resHeaders = new;
        anydata result = ();
        [result, resHeaders] = payload;
        return [result.toString(), resHeaders];
    }

};

public type VoToClient client object {

    *grpc:AbstractClientEndpoint;

    private grpc:Client grpcClient;

    public function __init(string url, grpc:ClientConfiguration? config = ()) {
        // initialize client endpoint.
        self.grpcClient = new(url, config);
        checkpanic self.grpcClient.initStub(self, "non-blocking", ROOT_DESCRIPTOR, getDescriptorMap());
    }

    public remote function ballotDescription(ballotInfo req, service msgListener, grpc:Headers? headers = ()) returns (grpc:Error?) {
        
        return self.grpcClient->nonBlockingExecute("src.VoTo/ballotDescription", req, msgListener, headers);
    }

    public remote function voterProfile(voterInfo req, service msgListener, grpc:Headers? headers = ()) returns (grpc:Error?) {
        
        return self.grpcClient->nonBlockingExecute("src.VoTo/voterProfile", req, msgListener, headers);
    }

    public remote function votingPeriod(votingInfo req, service msgListener, grpc:Headers? headers = ()) returns (grpc:Error?) {
        
        return self.grpcClient->nonBlockingExecute("src.VoTo/votingPeriod", req, msgListener, headers);
    }

    public remote function votingOutcomeDeadline(outcomeInfo req, service msgListener, grpc:Headers? headers = ()) returns (grpc:Error?) {
        
        return self.grpcClient->nonBlockingExecute("src.VoTo/votingOutcomeDeadline", req, msgListener, headers);
    }

};

public type ballotInfo record {|
    string candidate = "";
    string position = "";
    string party = "";
    string voteStatus = "";
    
|};


public type voterInfo record {|
    string id = "";
    string firstName = "";
    string lastName = "";
    string dob = "";
    string country = "";
    string region = "";
    string constituency = "";
    
|};


public type votingInfo record {|
    string votingDate = "";
    string votingTime = "";
    
|};


public type outcomeInfo record {|
    string outcomeDeadlineDate = "";
    string outcomeDeadlineTime = "";
    
|};



const string ROOT_DESCRIPTOR = "0A0A766F746F2E70726F746F12037372631A1E676F6F676C652F70726F746F6275662F77726170706572732E70726F746F227C0A0A62616C6C6F74496E666F121C0A0963616E646964617465180120012809520963616E646964617465121A0A08706F736974696F6E1802200128095208706F736974696F6E12140A05706172747918032001280952057061727479121E0A0A766F7465537461747573180420012809520A766F746553746174757322BD010A09766F746572496E666F120E0A02696418012001280952026964121C0A0966697273744E616D65180220012809520966697273744E616D65121A0A086C6173744E616D6518032001280952086C6173744E616D6512100A03646F621804200128095203646F6212180A07636F756E7472791805200128095207636F756E74727912160A06726567696F6E1806200128095206726567696F6E12220A0C636F6E7374697475656E6379180720012809520C636F6E7374697475656E6379224C0A0A766F74696E67496E666F121E0A0A766F74696E6744617465180120012809520A766F74696E6744617465121E0A0A766F74696E6754696D65180220012809520A766F74696E6754696D6522710A0B6F7574636F6D65496E666F12300A136F7574636F6D65446561646C696E654461746518012001280952136F7574636F6D65446561646C696E654461746512300A136F7574636F6D65446561646C696E6554696D6518022001280952136F7574636F6D65446561646C696E6554696D653290020A04566F546F12420A1162616C6C6F744465736372697074696F6E120F2E7372632E62616C6C6F74496E666F1A1C2E676F6F676C652E70726F746F6275662E537472696E6756616C7565123C0A0C766F74657250726F66696C65120E2E7372632E766F746572496E666F1A1C2E676F6F676C652E70726F746F6275662E537472696E6756616C7565123D0A0C766F74696E67506572696F64120F2E7372632E766F74696E67496E666F1A1C2E676F6F676C652E70726F746F6275662E537472696E6756616C756512470A15766F74696E674F7574636F6D65446561646C696E6512102E7372632E6F7574636F6D65496E666F1A1C2E676F6F676C652E70726F746F6275662E537472696E6756616C7565620670726F746F33";
function getDescriptorMap() returns map<string> {
    return {
        "voto.proto":"0A0A766F746F2E70726F746F12037372631A1E676F6F676C652F70726F746F6275662F77726170706572732E70726F746F227C0A0A62616C6C6F74496E666F121C0A0963616E646964617465180120012809520963616E646964617465121A0A08706F736974696F6E1802200128095208706F736974696F6E12140A05706172747918032001280952057061727479121E0A0A766F7465537461747573180420012809520A766F746553746174757322BD010A09766F746572496E666F120E0A02696418012001280952026964121C0A0966697273744E616D65180220012809520966697273744E616D65121A0A086C6173744E616D6518032001280952086C6173744E616D6512100A03646F621804200128095203646F6212180A07636F756E7472791805200128095207636F756E74727912160A06726567696F6E1806200128095206726567696F6E12220A0C636F6E7374697475656E6379180720012809520C636F6E7374697475656E6379224C0A0A766F74696E67496E666F121E0A0A766F74696E6744617465180120012809520A766F74696E6744617465121E0A0A766F74696E6754696D65180220012809520A766F74696E6754696D6522710A0B6F7574636F6D65496E666F12300A136F7574636F6D65446561646C696E654461746518012001280952136F7574636F6D65446561646C696E654461746512300A136F7574636F6D65446561646C696E6554696D6518022001280952136F7574636F6D65446561646C696E6554696D653290020A04566F546F12420A1162616C6C6F744465736372697074696F6E120F2E7372632E62616C6C6F74496E666F1A1C2E676F6F676C652E70726F746F6275662E537472696E6756616C7565123C0A0C766F74657250726F66696C65120E2E7372632E766F746572496E666F1A1C2E676F6F676C652E70726F746F6275662E537472696E6756616C7565123D0A0C766F74696E67506572696F64120F2E7372632E766F74696E67496E666F1A1C2E676F6F676C652E70726F746F6275662E537472696E6756616C756512470A15766F74696E674F7574636F6D65446561646C696E6512102E7372632E6F7574636F6D65496E666F1A1C2E676F6F676C652E70726F746F6275662E537472696E6756616C7565620670726F746F33",
        "google/protobuf/wrappers.proto":"0A1E676F6F676C652F70726F746F6275662F77726170706572732E70726F746F120F676F6F676C652E70726F746F62756622230A0B446F75626C6556616C756512140A0576616C7565180120012801520576616C756522220A0A466C6F617456616C756512140A0576616C7565180120012802520576616C756522220A0A496E74363456616C756512140A0576616C7565180120012803520576616C756522230A0B55496E74363456616C756512140A0576616C7565180120012804520576616C756522220A0A496E74333256616C756512140A0576616C7565180120012805520576616C756522230A0B55496E74333256616C756512140A0576616C756518012001280D520576616C756522210A09426F6F6C56616C756512140A0576616C7565180120012808520576616C756522230A0B537472696E6756616C756512140A0576616C7565180120012809520576616C756522220A0A427974657356616C756512140A0576616C756518012001280C520576616C756542570A13636F6D2E676F6F676C652E70726F746F627566420D577261707065727350726F746F50015A057479706573F80101A20203475042AA021E476F6F676C652E50726F746F6275662E57656C6C4B6E6F776E5479706573620670726F746F33"
        
    };
}

